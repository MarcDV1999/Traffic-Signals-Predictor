function colorFeatures = getColorFeatures(im, fname)
    nClusters = 3;
    H1 = fspecial("average", [2 2]);
    im_filtered = imfilter(im, H1); 
    [cluster_color, cluster_ratio, cluster_labels] = image2palette(nClusters, im_filtered, fname, false);
    
    
    % Creem un vector que per cada color tindrem 2 caracteristiques
    %colorFeatures = cluster_color(:,[2:nClusters]);
    colorFeatures =[];
    
    % Guardarem 2 columnes que representen el seguent:
    % Red   Blue
    % 43%   20%
    
    for i = 1:nClusters
        lab = cluster_color(i,:);
        percentatge = cluster_ratio(i);
        mainColor = getMainColor(lab);
        if mainColor == 0
            blue = mainColor(i);
            blue_p = cluster_ratio(i);
        
        end
    end
    percentatge = cluster_ratio(i);
    mainColor = getMainColor(lab);
    colorFeatures = [colorFeatures, blue, blue_p, red, red_p];
        
end

